/**
 * @file styles/helpers.less
 *
 * Copyright (c) 2014-2016 Simon Fraser University Library
 * Copyright (c) 2003-2016 John Willinsky
 * Distributed under the GNU GPL v2. For full terms see the file docs/COPYING.
 *
 * @brief Helper classes
 *
 */

// Buttons
.pkp_button {
	display: inline-block;
	padding: 4px @base;
	font-size: @font-sml;
	line-height: @line-base;
	color: @text;
	color: @text-rgba;
	vertical-align: middle;
	cursor: pointer;
	background-color: #eee;
	background-image: linear-gradient(#fff, #ddd);
	border: @bg-border;
	border-radius: @radius;
	text-decoration: none;
	text-align: center;
	-webkit-user-select: none;
	-moz-user-select: none;
	-ms-user-select: none;
	user-select: none;
	-webkit-appearance: none;

	&:hover,
	&:focus {
		background-color: #ccc;
		background-image: linear-gradient(#fff, #ccc);
	}

	&:active {
		background-color: #bbb;
		background-image: linear-gradient(#eee, #bbb);
	}

	&[disabled] {
		opacity: 0.5;
		cursor: default;
	}
}

.pkp_button_primary {
	&:extend(.pkp_button);
	background-color: @primary-lift;
	background-image: linear-gradient( lighten( @primary-lift, 10% ), @primary-lift );
	font-weight: @bold;
	color: #fff;
	border-color: @primary-lift;

	&:hover,
	&:focus {
		text-decoration: none;
		background-color: darken( @primary-lift, 5% );
		background-image: linear-gradient( lighten( @primary-lift, 7% ), darken( @primary-lift, 5% ) );
		color: #fff;
	}

	&:active {
		background-color: darken( @primary-lift, 10% );
		background-image: linear-gradient( lighten( @primary-lift, 5% ), darken( @primary-lift, 15% ) );
	}

	&[disabled] {
		&:extend(.pkp_button[disabled]);
	}
}

.pkp_button_offset {
	&:extend(.pkp_button);
	background-color: @offset;
	background-image: linear-gradient( lighten( @offset, 10% ), @offset );
	font-weight: @bold;
	color: #fff;
	border-color: @offset;

	&:hover,
	&:focus {
		text-decoration: none;
		background-color: darken( @offset, 5% );
		background-image: linear-gradient( lighten( @offset, 7% ), darken( @offset, 5% ) );
		color: #fff;
	}

	&:active {
		background-color: darken( @offset, 10% );
		background-image: linear-gradient( lighten( @offset, 5% ), darken( @offset, 15% ) );
	}

	&[disabled] {
		&:extend(.pkp_button[disabled]);
	}
}

// Spinner
.pkp_spinner {

	&:after {
		display: inline-block;
		position: relative;
		width: 20px;
		height: 20px;
		vertical-align: middle;
		.animation( pkp_spin .6s linear infinite );
		border-radius: 100%;
		border-top: 1px solid @shade;
		border-bottom: 1px solid transparent;
		border-left: 1px solid @shade;
		border-right: 1px solid transparent;
		border-top-color: rgba(0,0,0,0.5);
		border-left-color: rgba(0,0,0,0.5);
		content: '';
		opacity: 0.5;
	}
}

// Loading component
.pkp_loading {
	font-size: @font-sml;
	line-height: @line-sml;

	.pkp_spinner {
		margin-right: 0.25em;
	}
}

// An unstyled list with default margins, padding and list-style remove
.pkp_unstyled_list {
	margin: 0;
	padding: 0;
	list-style: none;
}

// CSS triangle
// To use, extend .pkp_caret and a direction, like .pkp_caret_down
.pkp_caret {
	content: ' ';
	display: inline-block;
	width: 0;
	height: 0;
	border: 4px solid transparent;
	vertical-align: middle;
}

.pkp_caret_down {
	border-top: 6px solid;
}

.pkp_caret_right {
	border-left: 6px solid;
}

// Screen-reader text
.pkp_screen_reader {
	clip: rect(1px, 1px, 1px, 1px);
	position: absolute !important;
	left: -2000px;

	&:focus {
		background-color: #fff;
		border-radius: 3px;
		box-shadow: 0 0 2px 2px rgba(0, 0, 0, 0.6);
		-webkit-box-shadow: 0 0 2px 2px rgba(0, 0, 0, 0.6);
		clip: auto !important;
		color: #000;
		display: block;
		font-size: @font-base;
		height: auto;
		line-height: normal;
		padding: @base;
		position: absolute;
		left: @half;
		top: @half;
		text-decoration: none;
		width: auto;
		z-index: 100000;
	}
}

// @todo Set this to .pkp_helpers_clear() with parentheses once the class is no
// longer used anywhere in the markup, so it doesn't print into the rendered
// stylesheet.
.pkp_helpers_clear {
	&:before,
	&:after {
		content: " ";
		display: table;
	}
	&:after {
		clear: both;
	}
}

// A help link
.pkp_help_link {
	display: inline-block;
	padding: 4px 0;
	font-size: @font-tiny;
	line-height: @line-tiny;
	text-decoration: none;

	&:before {
		&:extend(.fa);
		content: @fa-var-info-circle;
		color: @yes;
		margin-right: 0.25em;
	}

	&:hover:before,
	&:focus:before {
		color: @yes-lift;
	}
}

// A small help link that attaches to a tab
.pkp_help_tab {
	position: absolute;
	top: -@double - 1;
	right: @double;
	padding: @half 1em;
	background: @lift;
	border: @bg-border;
	border-bottom-width: 0;
	border-top-left-radius: 0.5em;
	border-top-right-radius: 0.5em;
}

.pkp_help_modal {
	&:extend(.pkp_help_tab);
	top: @double;
	right: @double * 2;
	border: none;
}

// @todo from here on down needs to be evaluated and removed if not useful
.pkp_helpers_invisible {
	visibility: hidden;
}

.pkp_helpers_display_none {
	display: none !important;
}

.pkp_helpers_align_left {
	float: left;
}

.pkp_helpers_align_right {
	float: right;
}

.pkp_helpers_text_left {
	text-align: left;
}

.pkp_helpers_text_right {
	text-align: right;
}

.pkp_helpers_text_center {
	text-align: center;
}

.pkp_helpers_text_justify {
	text-align: justify;
}

.pkp_helpers_title_padding {
	padding: 5px !important;
}

.pkp_helpers_image_left {
	float: left;
	margin: 4px 10px 4px 0;
}

.pkp_helpers_image_right {
	float: right;
	margin: 4px 0 4px 10px;
}

.pkp_helpers_container_center {
	margin: 0 auto;
}

.pkp_helpers_debug, .pkp_helpers_debug div {
	border: 1px dashed red;
	padding: 2px;
}

.pkp_helpers_flatlist {
	margin: 0;
	padding: 0;

	li {
		float: left;
		position: relative;
	}
}

.pkp_helpers_bulletlist {
	li {
		list-style: disc;
	}
}

.pkp_helpers_icon_link_valign {
	line-height:24px;
}

.pkp_helpers_moveicon {
	cursor: move;
}

.pkp_helpers_full {
	width: 100%;
}

.pkp_helpers_half {
	width: 50%;
}

.pkp_helpers_third {
	width: 33%;
}

.pkp_helpers_quarter {
	width: 25%;
}

.pkp_helpers_fifth {
	width: 20%;
}

.pkp_helpers_threeQuarter {
	width: 75%;
}

//
// @todo this is a temporary bridge to get the old OOCSS size*of* classes
//     working with our column classes. Eventually, footer.tpl will be adjusted
//     appropriately to improve how the footer categories are displayed and
//     be given appropriate markup. Then these can be removed.
//
.size1of1 { .pkp_helpers_full; }
.size1of2 { .pkp_helpers_half; }
.size1of3 { .pkp_helpers_third; }
.size1of4 { .pkp_helpers_quarter; }
.size1of5 { .pkp_helpers_fifth; }
.size1of5,
.size2of5,
.size3of5,
.size4of5,
.size5of5 {
	float: left;
}


.pkp_helpers_underline:after {
	border-bottom: 2px solid white;
	content: " ";
	display: block;
}

.pkp_helpers_dotted_underline {
	border-bottom: 1px dotted #999;
}

.pkp_helpers_black_bg {
	background-color: black;
}

/* deprecreated in favor of .pkp_spinner. Remove throbber.gif once it's all gone */
div.pkp_helpers_progressIndicator {
	width:24px;
	height:24px;
	float:right;
	margin-right: 5px;
	background-repeat:no-repeat;
	background:url({$baseUrl}/lib/pkp/templates/images/throbber.gif) no-repeat;
	display: none;
}

li.show {
	list-style: disc;
	margin-left: 1px;
}
