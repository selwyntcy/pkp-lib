/**
 * @file styles/controllers/tab.less
 *
 * Copyright (c) 2014-2015 Simon Fraser University Library
 * Copyright (c) 2003-2015 John Willinsky
 * Distributed under the GNU GPL v2. For full terms see the file docs/COPYING.
 *
 * @ingroup pkp_controllers_tab
 *
 * @brief Styles for pkp_controllers_tab
 */

.ui-tabs-nav {
	margin: 0;
	padding: 0;
	list-style: none;

	li {
		z-index: 1; // Lift above .ui-tabs-panel
		position: relative;
		top: 1px;
		display: inline-block;
		border: 1px solid transparent;
		border-bottom: none;

		a {
			display: block;
			padding: 0 @base;
			border-bottom: 2px solid transparent;
			line-height: @double + @base - 3; // account for border
			text-decoration: none;
		}

		&:focus {
			outline: 0;
		}

		&:focus a,
		a:hover,
		a:focus {
			border-color: @primary-lift;
			outline: 0;
		}
	}

	.ui-state-active {
		background: @lift;
		border-color: @bg-border-color;

		a {
			color: @text;
			color: @text-rgba;
			cursor: default;
		}
	}

	// Close button
	.close {
		&:extend(.fa);
		position: absolute;
		top: 50%;
		left: 100%;
		width: @double;
		height: @double;
		overflow: hidden;
		margin-top: -@base;
		padding: 0;
		line-height: @double;
		color: @no;
		text-decoration: none;

		&:before {
			content: @fa-var-minus-circle;
			display: block;
			width: @double;
			height: @double;
			text-align: center;
		}

		&:hover {
			border: none;
		}
	}

	// Win a specificity battle
	.ui-state-active .close {
		color: @no;
		cursor: pointer;
	}
}

.ui-tabs-panel {
	position: relative;
	padding: @double;
	background: @lift;
	border: @bg-border;
	border-radius: 0;
	overflow: hidden;
}

/**
 * Nested tabs
 *
 * If tabs appear inside of a tab panel, use a different visual paradigm to
 * better distinguish the hierarchy.
 */
@pkp_nested_tab_line_height: @double + @base - 2; // account for border
.ui-tabs-panel {

	.ui-tabs-nav {
		display: inline-block;
		margin-bottom: @double;
		border-bottom: 1px solid @bg-border-color;
		font-size: @font-sml;
		line-height: @pkp_nested_tab_line_height;

		li {
			top: 0;
			border: none;

			a {
				padding: 0 @base;
				border: none;
				line-height: @pkp_nested_tab_line_height;
			}
		}

		.ui-state-active {
			background: transparent;

			a {
				color: @text-light;
				color: @text-light-rgba;
				font-weight: @bold;

				// Arrow
				&:after {
					content: ' ';
					position: absolute;
					left: 50%;
					bottom: 0;
					margin-left: -2px;
					border: 4px solid transparent;
					border-bottom: 4px solid @bg-border-color;
				}
			}
		}
	}

	.ui-tabs-panel {
		padding: 0;
		border: none;
		background: transparent;
	}
}
